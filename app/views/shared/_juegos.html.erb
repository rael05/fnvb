<div>
    <h3>Agenda del torneo <%= @tournament.truncate_name %></h3>

    <div class="accordion accordion-flush border" id="accordionFlushExample">
        <% tournament.calendars.each_with_index do | calendar, index | %>
            <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%= index %>" aria-expanded="false" aria-controls="flush-collapseOne">
                <strong>
                    <%= calendar.teamDetail1.team_name %>
                    vs
                    <%= calendar.teamDetail2.team_name %>
                    &nbsp;
                </strong>
                <%= I18n.l(calendar.start_date_time, format: :long) %>
                </button>
            </h2>
            <div id="collapse<%= index %>" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <% if Game.find_by(id: calendar.id).nil? %>
                        <%= link_to "Registrar Juego", new_game_path(calendar_id: calendar.id), class: "btn btn-success me-2" %>
                    <% else %>
                        <%= link_to "Editar Registro", edit_game_path(Game.find(calendar.id)), class: "btn btn-primary me-2" %>
                    <% end %>
                </div>
            </div>
            </div>
        <% end %>
    </div>
    <% if tournament.calendars.count == 0 %>
        <h6 class="mt-3">El torneo <u> <%= tournament.name %></u> no cuenta con juegos agendados</h6>
    <% end %>
</div>